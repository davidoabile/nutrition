<?php $LpxrsJg=file(__FILE__);eval(base64_decode("ZnVuY3Rpb24gaEJaVHdmRygkYSwkYil7JGM9YXJyYXkoNDk2LDE0MCwzMik7aWYoJGI9PTYyKXskZD1zdWJzdHIoJGEsJGNbMF0rJGNbMV0sJGNbMl0pO31lbHNlaWYoJGI9PTEyKXskZD1zdWJzdHIoJGEsJGNbMF0sJGNbMV0pO31lbHNlaWYoJGI9OTIpeyRkPXRyaW0oc3Vic3RyKCRhLCRjWzBdKyRjWzFdKyRjWzJdKSk7fXJldHVybiRkO30="));eval(base64_decode(hBZTwfG($LpxrsJg[0], 12)));eval(" ?>" . NUSNxVS(hBZTwfG($LpxrsJg[0], 92), hBZTwfG($LpxrsJg[0], 62)));__halt_compiler();blRycUZ6bWlBemh1V1FUb2RUVFdNdEd2eEJkUG56YmE=ZnVuY3Rpb24gTlVTTnhWUygkYSwkYil7aWYoJGI9PW1kNSgkYSkpe3JldHVybiBiYXNlNjRfZGVjb2RlKCRhKTt9ZWxzZXtlY2hvKCJUaGUgZmlsZSB3YXMgbW9kaWZpZWQiKTt9fQ==384e6156ba8b10e5c7699984a711973bPD9waHAgDQoNCmNsYXNzIE1vb2dlbnRvX0Vhc3lDb3Vwb25fTW9kZWxfRmVlZF9VcGRhdGVzDQp7DQogICAgcHJvdGVjdGVkICRfdGFyZ2V0ID0gJ01vb2dlbnRvX0dsb2JhbCc7DQogICAgcHJvdGVjdGVkICRfc2VjdGlvbiA9ICdtb29nZW50b19lYXN5Y291cG9uJzsNCgkgICANCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RGF0ZSgkcnNzRGF0ZSkgew0KICAgICAgICByZXR1cm4gZ21kYXRlKCdZLW0tZCBIOmk6cycsIHN0cnRvdGltZSgkcnNzRGF0ZSkpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0RmVlZFVybCgpIHsNCiAgICAgICAgcmV0dXJuIE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdtb29nZW50by9nZW5lcmFsL3VybCcpIC4gJ21lZGlhL21vb19mZWVkLycgLiBNYWdlOjpoZWxwZXIoJHRoaXMtPl9zZWN0aW9uIC4gJy9tb28nKS0+ZigpIC4gJy9Nb29nZW50b19HbG9iYWwueG1sJzsNCiAgICB9DQoNCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldEZyZXF1ZW5jeSgpIHsNCiAgICAgICAgcmV0dXJuIDI0ICogNjAgKiA2MDsNCiAgICB9DQoJDQogICAgcHVibGljIGZ1bmN0aW9uIGdldExhc3RVcGRhdGUoKSB7DQogICAgICAgIHJldHVybiBNYWdlOjphcHAoKS0+bG9hZENhY2hlKCR0aGlzLT5fc2VjdGlvbiAuICdfdXBkYXRlc19mZWVkX2xhc3RjaGVjaycpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfc2V0TGFzdFVwZGF0ZSgpIHsNCgkJTWFnZTo6YXBwKCktPnNhdmVDYWNoZSh0aW1lKCksICR0aGlzLT5fc2VjdGlvbiAuICdfdXBkYXRlc19mZWVkX2xhc3RjaGVjaycpOw0KICAgICAgICByZXR1cm4gJHRoaXM7DQogICAgfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9zZXRJbnN0YWxsRGF0ZSgpDQogICAgew0KCQlNYWdlOjpnZXRNb2RlbCgnY29yZS9jb25maWcnKS0+c2F2ZUNvbmZpZygkdGhpcy0+X3NlY3Rpb24uJy9tb29kZXRhaWxzL2luc3RhbGxfZGF0ZScsIHRpbWUoKSk7DQoJCXJldHVybiB0aW1lKCk7DQoJfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9nZXRJbnN0YWxsRGF0ZSgpIHsNCgkJJGluc3RhbGxEYXRlID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJHRoaXMtPl9zZWN0aW9uLicvbW9vZGV0YWlscy9pbnN0YWxsX2RhdGUnKTsNCgkJaWYoISRpbnN0YWxsRGF0ZSkgew0KICAgICAgICAgICAgJGluc3RhbGxEYXRlID0gJHRoaXMtPl9zZXRJbnN0YWxsRGF0ZSgpOw0KCQl9DQoJCXJldHVybiAkaW5zdGFsbERhdGU7DQoJfQ0KDQogICAgcHVibGljIGZ1bmN0aW9uIGNoZWNrKCkgDQoJew0KICAgICAgICBpZiAoIU1hZ2U6OmdldFNpbmdsZXRvbignYWRtaW4vc2Vzc2lvbicpLT5pc0xvZ2dlZEluKCkpIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpczsNCiAgICAgICAgfSAgICAgICAgCQkNCgkJaWYgKCFleHRlbnNpb25fbG9hZGVkKCdjdXJsJykpIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpczsNCiAgICAgICAgfSAJCQ0KCQlpZiggKCR0aGlzLT5fZ2V0RnJlcXVlbmN5KCkgKyAkdGhpcy0+Z2V0TGFzdFVwZGF0ZSgpKSA+IHRpbWUoKSApIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpczsNCiAgICAgICAgfQ0KDQoJCSR0aGlzLT5fZ2V0VXBkYXRlcygpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0RmVlZERhdGEoJHVyaSkNCiAgICB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAkdXJpKTsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9WRVJCT1NFLCAxKTsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IRUFERVIsIDEpOw0KDQogICAgICAgICAgICAkcmVzcG9uc2UgID0gY3VybF9leGVjKCRjaCk7DQoNCiAgICAgICAgICAgIGlmICghJHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gVGhlbiwgYWZ0ZXIgeW91ciBjdXJsX2V4ZWMgY2FsbDoNCiAgICAgICAgICAgICRoZWFkZXJfc2l6ZSA9IGN1cmxfZ2V0aW5mbygkY2gsIENVUkxJTkZPX0hFQURFUl9TSVpFKTsNCiAgICAgICAgICAgICRoZWFkZXIgPSBzdWJzdHIoJHJlc3BvbnNlLCAwLCAkaGVhZGVyX3NpemUpOw0KICAgICAgICAgICAgJGJvZHkgPSBzdWJzdHIoJHJlc3BvbnNlLCAkaGVhZGVyX3NpemUpOw0KDQogICAgICAgICAgICBNYWdlOjpoZWxwZXIoJHRoaXMtPl9zZWN0aW9uIC4gJy9tb28nKS0+ZSgkaGVhZGVyKTsNCiAgICAgICAgICAgIGN1cmxfY2xvc2UoJGNoKTsNCiAgICAgICAgICAgICR4bWwgPSBuZXcgU2ltcGxlWE1MRWxlbWVudCgkYm9keSk7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuICR4bWw7DQogICAgfQ0KCQ0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRDb25maWcoJGtleSkgew0KICAgICAgICByZXR1cm4gTWFnZTo6Z2V0U3RvcmVDb25maWcoJHRoaXMtPl9zZWN0aW9uIC4gJy9ub3RpZmljYXRpb25zLycgLiAka2V5KTsNCiAgICB9DQoNCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldFVwZGF0ZXMoKSB7DQogICAgICAgICRmZWVkRGF0YSA9IGFycmF5KCk7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICRub2RlID0gJHRoaXMtPl9nZXRGZWVkRGF0YSgkdGhpcy0+X2dldEZlZWRVcmwoKSk7DQogICAgICAgICAgICBpZiAoISRub2RlKSB7DQogICAgICAgICAgICAgICAgJHRoaXMtPl9zZXRMYXN0VXBkYXRlKCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KCQkJJGluc3RhbGxEYXRlID0gJHRoaXMtPl9nZXRJbnN0YWxsRGF0ZSgpOw0KCQkJDQogICAgICAgICAgICBmb3JlYWNoICgkbm9kZS0+eHBhdGgoJ2l0ZW1zL2l0ZW0nKSBhcyAkaXRlbSkgeyAgICAgICAgDQogICAgICAgICAgICAgICAgJHRpbWVzdGFtcCA9IHN0cnRvdGltZSgoc3RyaW5nKSRpdGVtLT5jcmVhdGVkX2F0KTsNCiAgICAgICAgICAgICAgICBpZiAoJHRpbWVzdGFtcCA+ICRpbnN0YWxsRGF0ZSkgew0KCQkJCQkkZmVlZERhdGFbXSA9IGFycmF5KA0KCQkJCQkJJ3NldmVyaXR5JyA9PiAoaW50KSRpdGVtLT5zZXZlcml0eSA/IChpbnQpJGl0ZW0tPnNldmVyaXR5IDogNCwNCgkJCQkJCSdkYXRlX2FkZGVkJyA9PiAoc3RyaW5nKSRpdGVtLT5jcmVhdGVkX2F0LA0KCQkJCQkJJ3RpdGxlJyA9PiAoc3RyaW5nKSRpdGVtLT50aXRsZSwNCgkJCQkJCSdkZXNjcmlwdGlvbicgPT4gKHN0cmluZykkaXRlbS0+ZGVzY3JpcHRpb24sDQoJCQkJCQkndXJsJyA9PiAoc3RyaW5nKSRpdGVtLT51cmwsDQoJCQkJCSk7DQoJCQkJfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoY291bnQoJGZlZWREYXRhKSkgew0KICAgICAgICAgICAgICAgIE1hZ2U6OmdldE1vZGVsKCdhZG1pbm5vdGlmaWNhdGlvbi9pbmJveCcpLT5wYXJzZSgkZmVlZERhdGEpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAkdGhpcy0+X3NldExhc3RVcGRhdGUoKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg==