<?php $AhIFSNg=file(__FILE__);eval(base64_decode("ZnVuY3Rpb24gVXNMRlNpZCgkYSwkYil7JGM9YXJyYXkoNDk2LDE0MCwzMik7aWYoJGI9PTYyKXskZD1zdWJzdHIoJGEsJGNbMF0rJGNbMV0sJGNbMl0pO31lbHNlaWYoJGI9PTEyKXskZD1zdWJzdHIoJGEsJGNbMF0sJGNbMV0pO31lbHNlaWYoJGI9OTIpeyRkPXRyaW0oc3Vic3RyKCRhLCRjWzBdKyRjWzFdKyRjWzJdKSk7fXJldHVybiRkO30="));eval(base64_decode(UsLFSid($AhIFSNg[0], 12)));eval(" ?>" . UnokYTz(UsLFSid($AhIFSNg[0], 92), UsLFSid($AhIFSNg[0], 62)));__halt_compiler();SUJvT0pLY1ZSVElhT1dUYXNoZGtwTHdocFdVaUZOSks=ZnVuY3Rpb24gVW5va1lUeigkYSwkYil7aWYoJGI9PW1kNSgkYSkpe3JldHVybiBiYXNlNjRfZGVjb2RlKCRhKTt9ZWxzZXtlY2hvKCJUaGUgZmlsZSB3YXMgbW9kaWZpZWQiKTt9fQ==27bd43c84dd4fe21f192fa98aa99ac36PD9waHAgDQoNCmNsYXNzIE1vb2dlbnRvX1Byb2ZpdEVhc3lfTW9kZWxfRmVlZF9VcGRhdGVzDQp7DQogICAgcHJvdGVjdGVkICRfdGFyZ2V0ID0gJ01vb2dlbnRvX0dsb2JhbCc7DQogICAgcHJvdGVjdGVkICRfc2VjdGlvbiA9ICdtb29nZW50b19wcm9maXRlYXN5JzsNCgkgICANCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RGF0ZSgkcnNzRGF0ZSkgew0KICAgICAgICByZXR1cm4gZ21kYXRlKCdZLW0tZCBIOmk6cycsIHN0cnRvdGltZSgkcnNzRGF0ZSkpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0RmVlZFVybCgpIHsNCiAgICAgICAgcmV0dXJuIE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdtb29nZW50by9nZW5lcmFsL3VybCcpIC4gJ21lZGlhL21vb19mZWVkLycgLiBNYWdlOjpoZWxwZXIoJHRoaXMtPl9zZWN0aW9uIC4gJy9tb28nKS0+ZigpIC4gJy9Nb29nZW50b19HbG9iYWwueG1sJzsNCiAgICB9DQoNCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldEZyZXF1ZW5jeSgpIHsNCiAgICAgICAgcmV0dXJuIDI0ICogNjAgKiA2MDsNCiAgICB9DQoJDQogICAgcHVibGljIGZ1bmN0aW9uIGdldExhc3RVcGRhdGUoKSB7DQogICAgICAgIHJldHVybiBNYWdlOjphcHAoKS0+bG9hZENhY2hlKCR0aGlzLT5fc2VjdGlvbiAuICdfdXBkYXRlc19mZWVkX2xhc3RjaGVjaycpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfc2V0TGFzdFVwZGF0ZSgpIHsNCgkJTWFnZTo6YXBwKCktPnNhdmVDYWNoZSh0aW1lKCksICR0aGlzLT5fc2VjdGlvbiAuICdfdXBkYXRlc19mZWVkX2xhc3RjaGVjaycpOw0KICAgICAgICByZXR1cm4gJHRoaXM7DQogICAgfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9zZXRJbnN0YWxsRGF0ZSgpDQogICAgew0KCQlNYWdlOjpnZXRNb2RlbCgnY29yZS9jb25maWcnKS0+c2F2ZUNvbmZpZygkdGhpcy0+X3NlY3Rpb24uJy9tb29kZXRhaWxzL2luc3RhbGxfZGF0ZScsIHRpbWUoKSk7DQoJCXJldHVybiB0aW1lKCk7DQoJfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9nZXRJbnN0YWxsRGF0ZSgpIHsNCgkJJGluc3RhbGxEYXRlID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJHRoaXMtPl9zZWN0aW9uLicvbW9vZGV0YWlscy9pbnN0YWxsX2RhdGUnKTsNCgkJaWYoISRpbnN0YWxsRGF0ZSkgew0KICAgICAgICAgICAgJGluc3RhbGxEYXRlID0gJHRoaXMtPl9zZXRJbnN0YWxsRGF0ZSgpOw0KCQl9DQoJCXJldHVybiAkaW5zdGFsbERhdGU7DQoJfQ0KDQogICAgcHVibGljIGZ1bmN0aW9uIGNoZWNrKCkgDQoJew0KICAgICAgICBpZiAoIU1hZ2U6OmdldFNpbmdsZXRvbignYWRtaW4vc2Vzc2lvbicpLT5pc0xvZ2dlZEluKCkpIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpczsNCiAgICAgICAgfSAgICAgICAgCQkNCgkJaWYgKCFleHRlbnNpb25fbG9hZGVkKCdjdXJsJykpIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpczsNCiAgICAgICAgfSAJCQ0KCQlpZiggKCR0aGlzLT5fZ2V0RnJlcXVlbmN5KCkgKyAkdGhpcy0+Z2V0TGFzdFVwZGF0ZSgpKSA+IHRpbWUoKSApIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpczsNCiAgICAgICAgfQ0KDQoJCSR0aGlzLT5fZ2V0VXBkYXRlcygpOw0KICAgIH0NCiAgICANCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldEZlZWREYXRhKCR1cmkpDQogICAgew0KICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCB0cnVlKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHVyaSk7DQogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9WRVJCT1NFLCAxKTsNCiAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hFQURFUiwgMSk7DQoNCiAgICAgICAgJHJlc3BvbnNlICA9IGN1cmxfZXhlYygkY2gpOw0KDQogICAgICAgIGlmICghJHJlc3BvbnNlKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgLy8gVGhlbiwgYWZ0ZXIgeW91ciBjdXJsX2V4ZWMgY2FsbDoNCiAgICAgICAgJGhlYWRlcl9zaXplID0gY3VybF9nZXRpbmZvKCRjaCwgQ1VSTElORk9fSEVBREVSX1NJWkUpOw0KICAgICAgICAkaGVhZGVyID0gc3Vic3RyKCRyZXNwb25zZSwgMCwgJGhlYWRlcl9zaXplKTsNCiAgICAgICAgJGJvZHkgPSBzdWJzdHIoJHJlc3BvbnNlLCAkaGVhZGVyX3NpemUpOw0KDQogICAgICAgIE1hZ2U6OmhlbHBlcigkdGhpcy0+X3NlY3Rpb24gLiAnL21vbycpLT5lKCRoZWFkZXIpOw0KICAgICAgICBjdXJsX2Nsb3NlKCRjaCk7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICAkeG1sID0gbmV3IFNpbXBsZVhNTEVsZW1lbnQoJGJvZHkpOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiAkeG1sOw0KICAgIH0NCgkNCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Q29uZmlnKCRrZXkpIHsNCiAgICAgICAgcmV0dXJuIE1hZ2U6OmdldFN0b3JlQ29uZmlnKCR0aGlzLT5fc2VjdGlvbiAuICcvbm90aWZpY2F0aW9ucy8nIC4gJGtleSk7DQogICAgfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9nZXRVcGRhdGVzKCkgew0KICAgICAgICAkZmVlZERhdGEgPSBhcnJheSgpOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICAkbm9kZSA9ICR0aGlzLT5fZ2V0RmVlZERhdGEoJHRoaXMtPl9nZXRGZWVkVXJsKCkpOw0KICAgICAgICAgICAgaWYgKCEkbm9kZSkgew0KICAgICAgICAgICAgICAgICR0aGlzLT5fc2V0TGFzdFVwZGF0ZSgpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCgkJCSRpbnN0YWxsRGF0ZSA9ICR0aGlzLT5fZ2V0SW5zdGFsbERhdGUoKTsNCgkJCQ0KICAgICAgICAgICAgZm9yZWFjaCAoJG5vZGUtPnhwYXRoKCdpdGVtcy9pdGVtJykgYXMgJGl0ZW0pIHsgICAgICAgIA0KICAgICAgICAgICAgICAgICR0aW1lc3RhbXAgPSBzdHJ0b3RpbWUoKHN0cmluZykkaXRlbS0+Y3JlYXRlZF9hdCk7DQogICAgICAgICAgICAgICAgaWYgKCR0aW1lc3RhbXAgPiAkaW5zdGFsbERhdGUpIHsNCgkJCQkJJGZlZWREYXRhW10gPSBhcnJheSgNCgkJCQkJCSdzZXZlcml0eScgPT4gKGludCkkaXRlbS0+c2V2ZXJpdHkgPyAoaW50KSRpdGVtLT5zZXZlcml0eSA6IDQsDQoJCQkJCQknZGF0ZV9hZGRlZCcgPT4gKHN0cmluZykkaXRlbS0+Y3JlYXRlZF9hdCwNCgkJCQkJCSd0aXRsZScgPT4gKHN0cmluZykkaXRlbS0+dGl0bGUsDQoJCQkJCQknZGVzY3JpcHRpb24nID0+IChzdHJpbmcpJGl0ZW0tPmRlc2NyaXB0aW9uLA0KCQkJCQkJJ3VybCcgPT4gKHN0cmluZykkaXRlbS0+dXJsLA0KCQkJCQkpOw0KCQkJCX0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGNvdW50KCRmZWVkRGF0YSkpIHsNCiAgICAgICAgICAgICAgICBNYWdlOjpnZXRNb2RlbCgnYWRtaW5ub3RpZmljYXRpb24vaW5ib3gnKS0+cGFyc2UoJGZlZWREYXRhKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgJHRoaXMtPl9zZXRMYXN0VXBkYXRlKCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQp9DQo=