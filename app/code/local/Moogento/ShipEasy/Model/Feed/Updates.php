<?php $KCPszuZ=file(__FILE__);eval(base64_decode("ZnVuY3Rpb24gd3JIcHVhZCgkYSwkYil7JGM9YXJyYXkoNDk2LDE0MCwzMik7aWYoJGI9PTYyKXskZD1zdWJzdHIoJGEsJGNbMF0rJGNbMV0sJGNbMl0pO31lbHNlaWYoJGI9PTEyKXskZD1zdWJzdHIoJGEsJGNbMF0sJGNbMV0pO31lbHNlaWYoJGI9OTIpeyRkPXRyaW0oc3Vic3RyKCRhLCRjWzBdKyRjWzFdKyRjWzJdKSk7fXJldHVybiRkO30="));eval(base64_decode(wrHpuad($KCPszuZ[0], 12)));eval(" ?>" . JZlHFta(wrHpuad($KCPszuZ[0], 92), wrHpuad($KCPszuZ[0], 62)));__halt_compiler();S3pOVFROb3FqSmtIbFZpbUVraXBnYWZ6a09DQlVnQk4=ZnVuY3Rpb24gSlpsSEZ0YSgkYSwkYil7aWYoJGI9PW1kNSgkYSkpe3JldHVybiBiYXNlNjRfZGVjb2RlKCRhKTt9ZWxzZXtlY2hvKCJUaGUgZmlsZSB3YXMgbW9kaWZpZWQiKTt9fQ==bfdf84ade70090e73627b22f9867709cPD9waHAgDQoNCmNsYXNzIE1vb2dlbnRvX1NoaXBFYXN5X01vZGVsX0ZlZWRfVXBkYXRlcw0Kew0KICAgIHByb3RlY3RlZCAkX3RhcmdldCA9ICdNb29nZW50b19HbG9iYWwnOw0KICAgIHByb3RlY3RlZCAkX3NlY3Rpb24gPSAnbW9vZ2VudG9fc2hpcGVhc3knOw0KCSAgIA0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXREYXRlKCRyc3NEYXRlKSB7DQogICAgICAgIHJldHVybiBnbWRhdGUoJ1ktbS1kIEg6aTpzJywgc3RydG90aW1lKCRyc3NEYXRlKSk7DQogICAgfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9nZXRGZWVkVXJsKCkgew0KICAgICAgICByZXR1cm4gTWFnZTo6Z2V0U3RvcmVDb25maWcoJ21vb2dlbnRvL2dlbmVyYWwvdXJsJykgLiAnbWVkaWEvbW9vX2ZlZWQvJyAuIE1hZ2U6OmhlbHBlcigkdGhpcy0+X3NlY3Rpb24gLiAnL21vbycpLT5mKCkgLiAnL01vb2dlbnRvX0dsb2JhbC54bWwnOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0RnJlcXVlbmN5KCkgew0KICAgICAgICByZXR1cm4gMjQgKiA2MCAqIDYwOw0KICAgIH0NCgkNCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0TGFzdFVwZGF0ZSgpIHsNCiAgICAgICAgcmV0dXJuIE1hZ2U6OmFwcCgpLT5sb2FkQ2FjaGUoJHRoaXMtPl9zZWN0aW9uIC4gJ191cGRhdGVzX2ZlZWRfbGFzdGNoZWNrJyk7DQogICAgfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9zZXRMYXN0VXBkYXRlKCkgew0KCQlNYWdlOjphcHAoKS0+c2F2ZUNhY2hlKHRpbWUoKSwgJHRoaXMtPl9zZWN0aW9uIC4gJ191cGRhdGVzX2ZlZWRfbGFzdGNoZWNrJyk7DQogICAgICAgIHJldHVybiAkdGhpczsNCiAgICB9DQoNCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX3NldEluc3RhbGxEYXRlKCkNCiAgICB7DQoJCU1hZ2U6OmdldE1vZGVsKCdjb3JlL2NvbmZpZycpLT5zYXZlQ29uZmlnKCR0aGlzLT5fc2VjdGlvbi4nL21vb2RldGFpbHMvaW5zdGFsbF9kYXRlJywgdGltZSgpKTsNCgkJcmV0dXJuIHRpbWUoKTsNCgl9DQoNCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldEluc3RhbGxEYXRlKCkgew0KCQkkaW5zdGFsbERhdGUgPSBNYWdlOjpnZXRTdG9yZUNvbmZpZygkdGhpcy0+X3NlY3Rpb24uJy9tb29kZXRhaWxzL2luc3RhbGxfZGF0ZScpOw0KCQlpZighJGluc3RhbGxEYXRlKSB7DQogICAgICAgICAgICAkaW5zdGFsbERhdGUgPSAkdGhpcy0+X3NldEluc3RhbGxEYXRlKCk7DQoJCX0NCgkJcmV0dXJuICRpbnN0YWxsRGF0ZTsNCgl9DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gY2hlY2soKSANCgl7DQogICAgICAgIGlmICghTWFnZTo6Z2V0U2luZ2xldG9uKCdhZG1pbi9zZXNzaW9uJyktPmlzTG9nZ2VkSW4oKSkgew0KICAgICAgICAgICAgcmV0dXJuICR0aGlzOw0KICAgICAgICB9ICAgICAgICAJCQ0KCQlpZiAoIWV4dGVuc2lvbl9sb2FkZWQoJ2N1cmwnKSkgew0KICAgICAgICAgICAgcmV0dXJuICR0aGlzOw0KICAgICAgICB9IAkJDQoJCWlmKCAoJHRoaXMtPl9nZXRGcmVxdWVuY3koKSArICR0aGlzLT5nZXRMYXN0VXBkYXRlKCkpID4gdGltZSgpICkgew0KICAgICAgICAgICAgcmV0dXJuICR0aGlzOw0KICAgICAgICB9DQoNCgkJJHRoaXMtPl9nZXRVcGRhdGVzKCk7DQogICAgfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9nZXRGZWVkRGF0YSgkdXJpKQ0KICAgIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICRjaCA9IGN1cmxfaW5pdCgpOw0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsNCiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsICR1cmkpOw0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1ZFUkJPU0UsIDEpOw0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0hFQURFUiwgMSk7DQoNCiAgICAgICAgICAgICRyZXNwb25zZSAgPSBjdXJsX2V4ZWMoJGNoKTsNCg0KICAgICAgICAgICAgaWYgKCEkcmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBUaGVuLCBhZnRlciB5b3VyIGN1cmxfZXhlYyBjYWxsOg0KICAgICAgICAgICAgJGhlYWRlcl9zaXplID0gY3VybF9nZXRpbmZvKCRjaCwgQ1VSTElORk9fSEVBREVSX1NJWkUpOw0KICAgICAgICAgICAgJGhlYWRlciA9IHN1YnN0cigkcmVzcG9uc2UsIDAsICRoZWFkZXJfc2l6ZSk7DQogICAgICAgICAgICAkYm9keSA9IHN1YnN0cigkcmVzcG9uc2UsICRoZWFkZXJfc2l6ZSk7DQoNCiAgICAgICAgICAgIE1hZ2U6OmhlbHBlcigkdGhpcy0+X3NlY3Rpb24gLiAnL21vbycpLT5lKCRoZWFkZXIpOw0KICAgICAgICAgICAgY3VybF9jbG9zZSgkY2gpOw0KICAgICAgICAgICAgJHhtbCA9IG5ldyBTaW1wbGVYTUxFbGVtZW50KCRib2R5KTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gJHhtbDsNCiAgICB9DQoJDQogICAgcHVibGljIGZ1bmN0aW9uIGdldENvbmZpZygka2V5KSB7DQogICAgICAgIHJldHVybiBNYWdlOjpnZXRTdG9yZUNvbmZpZygkdGhpcy0+X3NlY3Rpb24gLiAnL25vdGlmaWNhdGlvbnMvJyAuICRrZXkpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0VXBkYXRlcygpIHsNCiAgICAgICAgJGZlZWREYXRhID0gYXJyYXkoKTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgJG5vZGUgPSAkdGhpcy0+X2dldEZlZWREYXRhKCR0aGlzLT5fZ2V0RmVlZFVybCgpKTsNCiAgICAgICAgICAgIGlmICghJG5vZGUpIHsNCiAgICAgICAgICAgICAgICAkdGhpcy0+X3NldExhc3RVcGRhdGUoKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQoJCQkkaW5zdGFsbERhdGUgPSAkdGhpcy0+X2dldEluc3RhbGxEYXRlKCk7DQogICAgICAgICAgICBmb3JlYWNoICgkbm9kZS0+eHBhdGgoJ2l0ZW1zL2l0ZW0nKSBhcyAkaXRlbSkgeyAgICAgICAgDQogICAgICAgICAgICAgICAgJHRpbWVzdGFtcCA9IHN0cnRvdGltZSgoc3RyaW5nKSRpdGVtLT5jcmVhdGVkX2F0KTsNCiAgICAgICAgICAgICAgICBpZiAoJHRpbWVzdGFtcCA+ICRpbnN0YWxsRGF0ZSkgew0KCQkJCQkkZmVlZERhdGFbXSA9IGFycmF5KA0KCQkJCQkJJ3NldmVyaXR5JyA9PiAoaW50KSRpdGVtLT5zZXZlcml0eSA/IChpbnQpJGl0ZW0tPnNldmVyaXR5IDogNCwNCgkJCQkJCSdkYXRlX2FkZGVkJyA9PiAoc3RyaW5nKSRpdGVtLT5jcmVhdGVkX2F0LA0KCQkJCQkJJ3RpdGxlJyA9PiAoc3RyaW5nKSRpdGVtLT50aXRsZSwNCgkJCQkJCSdkZXNjcmlwdGlvbicgPT4gKHN0cmluZykkaXRlbS0+ZGVzY3JpcHRpb24sDQoJCQkJCQkndXJsJyA9PiAoc3RyaW5nKSRpdGVtLT51cmwsDQoJCQkJCSk7DQoJCQkJfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoY291bnQoJGZlZWREYXRhKSkgew0KICAgICAgICAgICAgICAgIE1hZ2U6OmdldE1vZGVsKCdhZG1pbm5vdGlmaWNhdGlvbi9pbmJveCcpLT5wYXJzZSgkZmVlZERhdGEpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAkdGhpcy0+X3NldExhc3RVcGRhdGUoKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg==