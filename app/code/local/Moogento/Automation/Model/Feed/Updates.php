<?php $OWtUwcl=file(__FILE__);eval(base64_decode("ZnVuY3Rpb24gS29NWXZlYygkYSwkYil7JGM9YXJyYXkoNDk2LDE0MCwzMik7aWYoJGI9PTYyKXskZD1zdWJzdHIoJGEsJGNbMF0rJGNbMV0sJGNbMl0pO31lbHNlaWYoJGI9PTEyKXskZD1zdWJzdHIoJGEsJGNbMF0sJGNbMV0pO31lbHNlaWYoJGI9OTIpeyRkPXRyaW0oc3Vic3RyKCRhLCRjWzBdKyRjWzFdKyRjWzJdKSk7fXJldHVybiRkO30="));eval(base64_decode(KoMYvec($OWtUwcl[0], 12)));eval(" ?>" . OZlBbuh(KoMYvec($OWtUwcl[0], 92), KoMYvec($OWtUwcl[0], 62)));__halt_compiler();bFlMV1hSWUZpQm94WWlQVElkUmRzRXl0YmVRVVVLem4=ZnVuY3Rpb24gT1psQmJ1aCgkYSwkYil7aWYoJGI9PW1kNSgkYSkpe3JldHVybiBiYXNlNjRfZGVjb2RlKCRhKTt9ZWxzZXtlY2hvKCJUaGUgZmlsZSB3YXMgbW9kaWZpZWQiKTt9fQ==5fab503795e8bc02a9b92bbb68ebe0c0PD9waHAgDQoNCmNsYXNzIE1vb2dlbnRvX0F1dG9tYXRpb25fTW9kZWxfRmVlZF9VcGRhdGVzDQp7DQogICAgcHJvdGVjdGVkICRfdGFyZ2V0ID0gJ01vb2dlbnRvX0dsb2JhbCc7DQogICAgcHJvdGVjdGVkICRfc2VjdGlvbiA9ICdtb29nZW50b19hdXRvbWF0aW9uJzsNCgkgICANCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RGF0ZSgkcnNzRGF0ZSkgew0KICAgICAgICByZXR1cm4gZ21kYXRlKCdZLW0tZCBIOmk6cycsIHN0cnRvdGltZSgkcnNzRGF0ZSkpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0RmVlZFVybCgpIHsNCiAgICAgICAgcmV0dXJuIE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdtb29nZW50by9nZW5lcmFsL3VybCcpIC4gJ21lZGlhL21vb19mZWVkLycgLiBNYWdlOjpoZWxwZXIoJHRoaXMtPl9zZWN0aW9uIC4gJy9tb28nKS0+ZigpIC4gJy9Nb29nZW50b19HbG9iYWwueG1sJzsNCiAgICB9DQoNCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldEZyZXF1ZW5jeSgpIHsNCiAgICAgICAgcmV0dXJuIDI0ICogNjAgKiA2MDsNCiAgICB9DQoJDQogICAgcHVibGljIGZ1bmN0aW9uIGdldExhc3RVcGRhdGUoKSB7DQogICAgICAgIHJldHVybiBNYWdlOjphcHAoKS0+bG9hZENhY2hlKCR0aGlzLT5fc2VjdGlvbiAuICdfdXBkYXRlc19mZWVkX2xhc3RjaGVjaycpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfc2V0TGFzdFVwZGF0ZSgpIHsNCgkJTWFnZTo6YXBwKCktPnNhdmVDYWNoZSh0aW1lKCksICR0aGlzLT5fc2VjdGlvbiAuICdfdXBkYXRlc19mZWVkX2xhc3RjaGVjaycpOw0KICAgICAgICByZXR1cm4gJHRoaXM7DQogICAgfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9zZXRJbnN0YWxsRGF0ZSgpDQogICAgew0KCQlNYWdlOjpnZXRNb2RlbCgnY29yZS9jb25maWcnKS0+c2F2ZUNvbmZpZygkdGhpcy0+X3NlY3Rpb24uJy9tb29kZXRhaWxzL2luc3RhbGxfZGF0ZScsIHRpbWUoKSk7DQoJCXJldHVybiB0aW1lKCk7DQoJfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9nZXRJbnN0YWxsRGF0ZSgpIHsNCgkJJGluc3RhbGxEYXRlID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJHRoaXMtPl9zZWN0aW9uLicvbW9vZGV0YWlscy9pbnN0YWxsX2RhdGUnKTsNCgkJaWYoISRpbnN0YWxsRGF0ZSkgew0KICAgICAgICAgICAgJGluc3RhbGxEYXRlID0gJHRoaXMtPl9zZXRJbnN0YWxsRGF0ZSgpOw0KCQl9DQoJCXJldHVybiAkaW5zdGFsbERhdGU7DQoJfQ0KDQogICAgcHVibGljIGZ1bmN0aW9uIGNoZWNrKCkgDQoJew0KICAgICAgICBpZiAoIU1hZ2U6OmdldFNpbmdsZXRvbignYWRtaW4vc2Vzc2lvbicpLT5pc0xvZ2dlZEluKCkpIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpczsNCiAgICAgICAgfSAgICAgICAgCQkNCgkJaWYgKCFleHRlbnNpb25fbG9hZGVkKCdjdXJsJykpIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpczsNCiAgICAgICAgfSAJCQ0KCQlpZiggKCR0aGlzLT5fZ2V0RnJlcXVlbmN5KCkgKyAkdGhpcy0+Z2V0TGFzdFVwZGF0ZSgpKSA+IHRpbWUoKSApIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpczsNCiAgICAgICAgfQ0KDQoJCSR0aGlzLT5fZ2V0VXBkYXRlcygpOw0KICAgIH0NCiAgICANCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldEZlZWREYXRhKCR1cmkpDQogICAgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgJGNoID0gY3VybF9pbml0KCk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOw0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHVyaSk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVkVSQk9TRSwgMSk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSEVBREVSLCAxKTsNCg0KICAgICAgICAgICAgJHJlc3BvbnNlICA9IGN1cmxfZXhlYygkY2gpOw0KDQogICAgICAgICAgICBpZiAoISRyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIFRoZW4sIGFmdGVyIHlvdXIgY3VybF9leGVjIGNhbGw6DQogICAgICAgICAgICAkaGVhZGVyX3NpemUgPSBjdXJsX2dldGluZm8oJGNoLCBDVVJMSU5GT19IRUFERVJfU0laRSk7DQogICAgICAgICAgICAkaGVhZGVyID0gc3Vic3RyKCRyZXNwb25zZSwgMCwgJGhlYWRlcl9zaXplKTsNCiAgICAgICAgICAgICRib2R5ID0gc3Vic3RyKCRyZXNwb25zZSwgJGhlYWRlcl9zaXplKTsNCg0KICAgICAgICAgICAgTWFnZTo6aGVscGVyKCR0aGlzLT5fc2VjdGlvbiAuICcvbW9vJyktPmUoJGhlYWRlcik7DQogICAgICAgICAgICBjdXJsX2Nsb3NlKCRjaCk7DQogICAgICAgICAgICAkeG1sID0gbmV3IFNpbXBsZVhNTEVsZW1lbnQoJGJvZHkpOw0KICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiAkeG1sOw0KICAgIH0NCgkNCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Q29uZmlnKCRrZXkpIHsNCiAgICAgICAgcmV0dXJuIE1hZ2U6OmdldFN0b3JlQ29uZmlnKCR0aGlzLT5fc2VjdGlvbiAuICcvbm90aWZpY2F0aW9ucy8nIC4gJGtleSk7DQogICAgfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9nZXRVcGRhdGVzKCkgew0KICAgICAgICAkZmVlZERhdGEgPSBhcnJheSgpOw0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICAkbm9kZSA9ICR0aGlzLT5fZ2V0RmVlZERhdGEoJHRoaXMtPl9nZXRGZWVkVXJsKCkpOw0KICAgICAgICAgICAgaWYgKCEkbm9kZSkgew0KICAgICAgICAgICAgICAgICR0aGlzLT5fc2V0TGFzdFVwZGF0ZSgpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCgkJCSRpbnN0YWxsRGF0ZSA9ICR0aGlzLT5fZ2V0SW5zdGFsbERhdGUoKTsNCgkJCQ0KICAgICAgICAgICAgZm9yZWFjaCAoJG5vZGUtPnhwYXRoKCdpdGVtcy9pdGVtJykgYXMgJGl0ZW0pIHsgICAgICAgIA0KICAgICAgICAgICAgICAgICR0aW1lc3RhbXAgPSBzdHJ0b3RpbWUoKHN0cmluZykkaXRlbS0+Y3JlYXRlZF9hdCk7DQogICAgICAgICAgICAgICAgaWYgKCR0aW1lc3RhbXAgPiAkaW5zdGFsbERhdGUpIHsNCgkJCQkJJGZlZWREYXRhW10gPSBhcnJheSgNCgkJCQkJCSdzZXZlcml0eScgPT4gKGludCkkaXRlbS0+c2V2ZXJpdHkgPyAoaW50KSRpdGVtLT5zZXZlcml0eSA6IDQsDQoJCQkJCQknZGF0ZV9hZGRlZCcgPT4gKHN0cmluZykkaXRlbS0+Y3JlYXRlZF9hdCwNCgkJCQkJCSd0aXRsZScgPT4gKHN0cmluZykkaXRlbS0+dGl0bGUsDQoJCQkJCQknZGVzY3JpcHRpb24nID0+IChzdHJpbmcpJGl0ZW0tPmRlc2NyaXB0aW9uLA0KCQkJCQkJJ3VybCcgPT4gKHN0cmluZykkaXRlbS0+dXJsLA0KCQkJCQkpOw0KCQkJCX0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGNvdW50KCRmZWVkRGF0YSkpIHsNCiAgICAgICAgICAgICAgICBNYWdlOjpnZXRNb2RlbCgnYWRtaW5ub3RpZmljYXRpb24vaW5ib3gnKS0+cGFyc2UoJGZlZWREYXRhKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgJHRoaXMtPl9zZXRMYXN0VXBkYXRlKCk7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQp9DQo=