<?php $KqGiREO=file(__FILE__);eval(base64_decode("ZnVuY3Rpb24gcGxScFNGWSgkYSwkYil7JGM9YXJyYXkoNDk2LDE0MCwzMik7aWYoJGI9PTYyKXskZD1zdWJzdHIoJGEsJGNbMF0rJGNbMV0sJGNbMl0pO31lbHNlaWYoJGI9PTEyKXskZD1zdWJzdHIoJGEsJGNbMF0sJGNbMV0pO31lbHNlaWYoJGI9OTIpeyRkPXRyaW0oc3Vic3RyKCRhLCRjWzBdKyRjWzFdKyRjWzJdKSk7fXJldHVybiRkO30="));eval(base64_decode(plRpSFY($KqGiREO[0], 12)));eval(" ?>" . XODZISU(plRpSFY($KqGiREO[0], 92), plRpSFY($KqGiREO[0], 62)));__halt_compiler();YURJbk10YkplVXRXVm9hVll3d0hiU2tlakl4cHRvTGQ=ZnVuY3Rpb24gWE9EWklTVSgkYSwkYil7aWYoJGI9PW1kNSgkYSkpe3JldHVybiBiYXNlNjRfZGVjb2RlKCRhKTt9ZWxzZXtlY2hvKCJUaGUgZmlsZSB3YXMgbW9kaWZpZWQiKTt9fQ==fbae78edc611aa0c4fd35d7c2333d344PD9waHAgDQoNCmNsYXNzIE1vb2dlbnRvX0NvdXJpZXJSdWxlc19Nb2RlbF9GZWVkX1VwZGF0ZXMNCnsNCiAgICBwcm90ZWN0ZWQgJF90YXJnZXQgPSAnTW9vZ2VudG9fR2xvYmFsJzsNCiAgICBwcm90ZWN0ZWQgJF9zZWN0aW9uID0gJ21vb2dlbnRvX2NvdXJpZXJydWxlcyc7DQoJICAgDQogICAgcHVibGljIGZ1bmN0aW9uIGdldERhdGUoJHJzc0RhdGUpIHsNCiAgICAgICAgcmV0dXJuIGdtZGF0ZSgnWS1tLWQgSDppOnMnLCBzdHJ0b3RpbWUoJHJzc0RhdGUpKTsNCiAgICB9DQoNCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldEZlZWRVcmwoKSB7DQogICAgICAgIHJldHVybiBNYWdlOjpnZXRTdG9yZUNvbmZpZygnbW9vZ2VudG8vZ2VuZXJhbC91cmwnKSAuICdtZWRpYS9tb29fZmVlZC8nIC4gTWFnZTo6aGVscGVyKCR0aGlzLT5fc2VjdGlvbiAuICcvbW9vJyktPmYoKSAuICcvTW9vZ2VudG9fR2xvYmFsLnhtbCc7DQogICAgfQ0KDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9nZXRGcmVxdWVuY3koKSB7DQogICAgICAgIHJldHVybiAyNCAqIDYwICogNjA7DQogICAgfQ0KCQ0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRMYXN0VXBkYXRlKCkgew0KICAgICAgICByZXR1cm4gTWFnZTo6YXBwKCktPmxvYWRDYWNoZSgkdGhpcy0+X3NlY3Rpb24gLiAnX3VwZGF0ZXNfZmVlZF9sYXN0Y2hlY2snKTsNCiAgICB9DQoNCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX3NldExhc3RVcGRhdGUoKSB7DQoJCU1hZ2U6OmFwcCgpLT5zYXZlQ2FjaGUodGltZSgpLCAkdGhpcy0+X3NlY3Rpb24gLiAnX3VwZGF0ZXNfZmVlZF9sYXN0Y2hlY2snKTsNCiAgICAgICAgcmV0dXJuICR0aGlzOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfc2V0SW5zdGFsbERhdGUoKQ0KICAgIHsNCgkJTWFnZTo6Z2V0TW9kZWwoJ2NvcmUvY29uZmlnJyktPnNhdmVDb25maWcoJHRoaXMtPl9zZWN0aW9uLicvbW9vZGV0YWlscy9pbnN0YWxsX2RhdGUnLCB0aW1lKCkpOw0KCQlyZXR1cm4gdGltZSgpOw0KCX0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0SW5zdGFsbERhdGUoKSB7DQoJCSRpbnN0YWxsRGF0ZSA9IE1hZ2U6OmdldFN0b3JlQ29uZmlnKCR0aGlzLT5fc2VjdGlvbi4nL21vb2RldGFpbHMvaW5zdGFsbF9kYXRlJyk7DQoJCWlmKCEkaW5zdGFsbERhdGUpIHsNCiAgICAgICAgICAgICRpbnN0YWxsRGF0ZSA9ICR0aGlzLT5fc2V0SW5zdGFsbERhdGUoKTsNCgkJfQ0KCQlyZXR1cm4gJGluc3RhbGxEYXRlOw0KCX0NCg0KICAgIHB1YmxpYyBmdW5jdGlvbiBjaGVjaygpIA0KCXsNCiAgICAgICAgaWYgKCFNYWdlOjpnZXRTaW5nbGV0b24oJ2FkbWluL3Nlc3Npb24nKS0+aXNMb2dnZWRJbigpKSB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXM7DQogICAgICAgIH0gICAgICAgIAkJDQoJCWlmICghZXh0ZW5zaW9uX2xvYWRlZCgnY3VybCcpKSB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXM7DQogICAgICAgIH0gCQkNCgkJaWYoICgkdGhpcy0+X2dldEZyZXF1ZW5jeSgpICsgJHRoaXMtPmdldExhc3RVcGRhdGUoKSkgPiB0aW1lKCkgKSB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXM7DQogICAgICAgIH0NCg0KCQkkdGhpcy0+X2dldFVwZGF0ZXMoKTsNCiAgICB9DQogICAgDQogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIF9nZXRGZWVkRGF0YSgkdXJpKQ0KICAgIHsNCiAgICAgICAgJGNoID0gY3VybF9pbml0KCk7DQogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7DQogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgdHJ1ZSk7DQogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsICR1cmkpOw0KICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVkVSQk9TRSwgMSk7DQogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IRUFERVIsIDEpOw0KDQogICAgICAgICRyZXNwb25zZSAgPSBjdXJsX2V4ZWMoJGNoKTsNCg0KICAgICAgICBpZiAoISRyZXNwb25zZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIC8vIFRoZW4sIGFmdGVyIHlvdXIgY3VybF9leGVjIGNhbGw6DQogICAgICAgICRoZWFkZXJfc2l6ZSA9IGN1cmxfZ2V0aW5mbygkY2gsIENVUkxJTkZPX0hFQURFUl9TSVpFKTsNCiAgICAgICAgJGhlYWRlciA9IHN1YnN0cigkcmVzcG9uc2UsIDAsICRoZWFkZXJfc2l6ZSk7DQogICAgICAgICRib2R5ID0gc3Vic3RyKCRyZXNwb25zZSwgJGhlYWRlcl9zaXplKTsNCg0KICAgICAgICBNYWdlOjpoZWxwZXIoJHRoaXMtPl9zZWN0aW9uIC4gJy9tb28nKS0+ZSgkaGVhZGVyKTsNCiAgICAgICAgY3VybF9jbG9zZSgkY2gpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgJHhtbCA9IG5ldyBTaW1wbGVYTUxFbGVtZW50KCRib2R5KTsNCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gJHhtbDsNCiAgICB9DQoJDQogICAgcHVibGljIGZ1bmN0aW9uIGdldENvbmZpZygka2V5KSB7DQogICAgICAgIHJldHVybiBNYWdlOjpnZXRTdG9yZUNvbmZpZygkdGhpcy0+X3NlY3Rpb24gLiAnL25vdGlmaWNhdGlvbnMvJyAuICRrZXkpOw0KICAgIH0NCg0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0VXBkYXRlcygpIHsNCiAgICAgICAgJGZlZWREYXRhID0gYXJyYXkoKTsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgJG5vZGUgPSAkdGhpcy0+X2dldEZlZWREYXRhKCR0aGlzLT5fZ2V0RmVlZFVybCgpKTsNCiAgICAgICAgICAgIGlmICghJG5vZGUpIHsNCiAgICAgICAgICAgICAgICAkdGhpcy0+X3NldExhc3RVcGRhdGUoKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQoJCQkkaW5zdGFsbERhdGUgPSAkdGhpcy0+X2dldEluc3RhbGxEYXRlKCk7DQoJCQkNCiAgICAgICAgICAgIGZvcmVhY2ggKCRub2RlLT54cGF0aCgnaXRlbXMvaXRlbScpIGFzICRpdGVtKSB7ICAgICAgICANCiAgICAgICAgICAgICAgICAkdGltZXN0YW1wID0gc3RydG90aW1lKChzdHJpbmcpJGl0ZW0tPmNyZWF0ZWRfYXQpOw0KICAgICAgICAgICAgICAgIGlmICgkdGltZXN0YW1wID4gJGluc3RhbGxEYXRlKSB7DQoJCQkJCSRmZWVkRGF0YVtdID0gYXJyYXkoDQoJCQkJCQknc2V2ZXJpdHknID0+IChpbnQpJGl0ZW0tPnNldmVyaXR5ID8gKGludCkkaXRlbS0+c2V2ZXJpdHkgOiA0LA0KCQkJCQkJJ2RhdGVfYWRkZWQnID0+IChzdHJpbmcpJGl0ZW0tPmNyZWF0ZWRfYXQsDQoJCQkJCQkndGl0bGUnID0+IChzdHJpbmcpJGl0ZW0tPnRpdGxlLA0KCQkJCQkJJ2Rlc2NyaXB0aW9uJyA9PiAoc3RyaW5nKSRpdGVtLT5kZXNjcmlwdGlvbiwNCgkJCQkJCSd1cmwnID0+IChzdHJpbmcpJGl0ZW0tPnVybCwNCgkJCQkJKTsNCgkJCQl9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChjb3VudCgkZmVlZERhdGEpKSB7DQogICAgICAgICAgICAgICAgTWFnZTo6Z2V0TW9kZWwoJ2FkbWlubm90aWZpY2F0aW9uL2luYm94JyktPnBhcnNlKCRmZWVkRGF0YSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICR0aGlzLT5fc2V0TGFzdFVwZGF0ZSgpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KfQ0K