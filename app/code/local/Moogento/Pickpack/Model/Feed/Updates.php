<?php $eGifJUD=file(__FILE__);eval(base64_decode("ZnVuY3Rpb24gRHRxamFncygkYSwkYil7JGM9YXJyYXkoNDk2LDE0MCwzMik7aWYoJGI9PTYyKXskZD1zdWJzdHIoJGEsJGNbMF0rJGNbMV0sJGNbMl0pO31lbHNlaWYoJGI9PTEyKXskZD1zdWJzdHIoJGEsJGNbMF0sJGNbMV0pO31lbHNlaWYoJGI9OTIpeyRkPXRyaW0oc3Vic3RyKCRhLCRjWzBdKyRjWzFdKyRjWzJdKSk7fXJldHVybiRkO30="));eval(base64_decode(Dtqjags($eGifJUD[0], 12)));eval(" ?>" . niytybr(Dtqjags($eGifJUD[0], 92), Dtqjags($eGifJUD[0], 62)));__halt_compiler();VEtOaVpFVUlIWldSSnRHeEJMeWNXdFZMSGxxVXFja2M=ZnVuY3Rpb24gbml5dHlicigkYSwkYil7aWYoJGI9PW1kNSgkYSkpe3JldHVybiBiYXNlNjRfZGVjb2RlKCRhKTt9ZWxzZXtlY2hvKCJUaGUgZmlsZSB3YXMgbW9kaWZpZWQiKTt9fQ==68e13ec079be6b03122e040d91ce840fPD9waHAKCmNsYXNzIE1vb2dlbnRvX1BpY2twYWNrX01vZGVsX0ZlZWRfVXBkYXRlcwp7CiAgICBwcm90ZWN0ZWQgJF90YXJnZXQgPSAnTW9vZ2VudG9fR2xvYmFsJzsKICAgIHByb3RlY3RlZCAkX3NlY3Rpb24gPSAncGlja3BhY2snOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXREYXRlKCRyc3NEYXRlKSB7CiAgICAgICAgcmV0dXJuIGdtZGF0ZSgnWS1tLWQgSDppOnMnLCBzdHJ0b3RpbWUoJHJzc0RhdGUpKTsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldEZlZWRVcmwoKSB7CiAgICAgICAgcmV0dXJuIE1hZ2U6OmdldFN0b3JlQ29uZmlnKCdtb29nZW50by9nZW5lcmFsL3VybCcpIC4gJ21lZGlhL21vb19mZWVkLycgLiBNYWdlOjpoZWxwZXIoJHRoaXMtPl9zZWN0aW9uIC4gJy9tb28nKS0+ZigpIC4gJy9Nb29nZW50b19HbG9iYWwueG1sJzsKICAgIH0KCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gX2dldEZyZXF1ZW5jeSgpIHsKICAgICAgICByZXR1cm4gMjQgKiA2MCAqIDYwOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRMYXN0VXBkYXRlKCkgewogICAgICAgIHJldHVybiBNYWdlOjphcHAoKS0+bG9hZENhY2hlKCR0aGlzLT5fc2VjdGlvbiAuICdfdXBkYXRlc19mZWVkX2xhc3RjaGVjaycpOwogICAgfQoKICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfc2V0TGFzdFVwZGF0ZSgpIHsKICAgICAgICBNYWdlOjphcHAoKS0+c2F2ZUNhY2hlKHRpbWUoKSwgJHRoaXMtPl9zZWN0aW9uIC4gJ191cGRhdGVzX2ZlZWRfbGFzdGNoZWNrJyk7CiAgICAgICAgcmV0dXJuICR0aGlzOwogICAgfQoKICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfc2V0SW5zdGFsbERhdGUoKQogICAgewogICAgICAgIE1hZ2U6OmdldE1vZGVsKCdjb3JlL2NvbmZpZycpLT5zYXZlQ29uZmlnKCR0aGlzLT5fc2VjdGlvbi4nL21vb2RldGFpbHMvaW5zdGFsbF9kYXRlJywgdGltZSgpKTsKICAgICAgICByZXR1cm4gdGltZSgpOwogICAgfQoKICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0SW5zdGFsbERhdGUoKSB7CiAgICAgICAgJGluc3RhbGxEYXRlID0gTWFnZTo6Z2V0U3RvcmVDb25maWcoJHRoaXMtPl9zZWN0aW9uLicvbW9vZGV0YWlscy9pbnN0YWxsX2RhdGUnKTsKICAgICAgICBpZighJGluc3RhbGxEYXRlKSB7CiAgICAgICAgICAgICRpbnN0YWxsRGF0ZSA9ICR0aGlzLT5fc2V0SW5zdGFsbERhdGUoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICRpbnN0YWxsRGF0ZTsKICAgIH0KCiAgICBwdWJsaWMgZnVuY3Rpb24gY2hlY2soKQogICAgewogICAgICAgIGlmICghTWFnZTo6Z2V0U2luZ2xldG9uKCdhZG1pbi9zZXNzaW9uJyktPmlzTG9nZ2VkSW4oKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXM7CiAgICAgICAgfQogICAgICAgIGlmICghZXh0ZW5zaW9uX2xvYWRlZCgnY3VybCcpKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpczsKICAgICAgICB9CiAgICAgICAgaWYoICgkdGhpcy0+X2dldEZyZXF1ZW5jeSgpICsgJHRoaXMtPmdldExhc3RVcGRhdGUoKSkgPiB0aW1lKCkgKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpczsKICAgICAgICB9CgogICAgICAgICR0aGlzLT5fZ2V0VXBkYXRlcygpOwogICAgfQoKICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0RmVlZERhdGEoJHVyaSkKICAgIHsKICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsKICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsICR1cmkpOwogICAgICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9WRVJCT1NFLCAxKTsKICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSEVBREVSLCAxKTsKCiAgICAgICAgJHJlc3BvbnNlICA9IGN1cmxfZXhlYygkY2gpOwoKICAgICAgICBpZiAoISRyZXNwb25zZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIC8vIFRoZW4sIGFmdGVyIHlvdXIgY3VybF9leGVjIGNhbGw6CiAgICAgICAgJGhlYWRlcl9zaXplID0gY3VybF9nZXRpbmZvKCRjaCwgQ1VSTElORk9fSEVBREVSX1NJWkUpOwogICAgICAgICRoZWFkZXIgPSBzdWJzdHIoJHJlc3BvbnNlLCAwLCAkaGVhZGVyX3NpemUpOwogICAgICAgICRib2R5ID0gc3Vic3RyKCRyZXNwb25zZSwgJGhlYWRlcl9zaXplKTsKCiAgICAgICAgTWFnZTo6aGVscGVyKCR0aGlzLT5fc2VjdGlvbiAuICcvbW9vJyktPmUoJGhlYWRlcik7CiAgICAgICAgY3VybF9jbG9zZSgkY2gpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgICR4bWwgPSBuZXcgU2ltcGxlWE1MRWxlbWVudCgkYm9keSk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAkeG1sOwogICAgfQoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRDb25maWcoJGtleSkgewogICAgICAgIHJldHVybiBNYWdlOjpnZXRTdG9yZUNvbmZpZygkdGhpcy0+X3NlY3Rpb24gLiAnL25vdGlmaWNhdGlvbnMvJyAuICRrZXkpOwogICAgfQoKICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfZ2V0VXBkYXRlcygpIHsKICAgICAgICAkZmVlZERhdGEgPSBhcnJheSgpOwoKICAgICAgICB0cnkgewogICAgICAgICAgICAkbm9kZSA9ICR0aGlzLT5fZ2V0RmVlZERhdGEoJHRoaXMtPl9nZXRGZWVkVXJsKCkpOwogICAgICAgICAgICBpZiAoISRub2RlKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+X3NldExhc3RVcGRhdGUoKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAkaW5zdGFsbERhdGUgPSAkdGhpcy0+X2dldEluc3RhbGxEYXRlKCk7CgogICAgICAgICAgICBmb3JlYWNoICgkbm9kZS0+eHBhdGgoJ2l0ZW1zL2l0ZW0nKSBhcyAkaXRlbSkgewogICAgICAgICAgICAgICAgJHRpbWVzdGFtcCA9IHN0cnRvdGltZSgoc3RyaW5nKSRpdGVtLT5jcmVhdGVkX2F0KTsKICAgICAgICAgICAgICAgIGlmICgkdGltZXN0YW1wID4gJGluc3RhbGxEYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgJGZlZWREYXRhW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgJ3NldmVyaXR5JyA9PiAoaW50KSRpdGVtLT5zZXZlcml0eSA/IChpbnQpJGl0ZW0tPnNldmVyaXR5IDogNCwKICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGVfYWRkZWQnID0+IChzdHJpbmcpJGl0ZW0tPmNyZWF0ZWRfYXQsCiAgICAgICAgICAgICAgICAgICAgICAgICd0aXRsZScgPT4gKHN0cmluZykkaXRlbS0+dGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbicgPT4gKHN0cmluZykkaXRlbS0+ZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICd1cmwnID0+IChzdHJpbmcpJGl0ZW0tPnVybCwKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoY291bnQoJGZlZWREYXRhKSkgewogICAgICAgICAgICAgICAgTWFnZTo6Z2V0TW9kZWwoJ2FkbWlubm90aWZpY2F0aW9uL2luYm94JyktPnBhcnNlKCRmZWVkRGF0YSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICR0aGlzLT5fc2V0TGFzdFVwZGF0ZSgpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KfQo=